<!doctype html>
<html>
<!-- Satellite Orbit Calculations (Ravi Saripalli) 19th Jun 2023  -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Satellite Orbit Calculations</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
</head>
<style>
  .watermark {
  width: 300px;
  display: block;
  position: relative;
}

.watermark::after {
  content: "";
  background:url(https://www.google.co.in/images/srpr/logo11w.png);
  opacity: 0.2;
  top: 0; left: 0; bottom: 0; right: 0;
  position: absolute;
  z-index: -1;
}
</style>
</head>

<body>
<div class=container-fluid>
<!-- Stick all tex macros here -->
  <div id=macros>
    $\newcommand{\half}{\frac{1}{2}}$
    $\newcommand{\rs}{r^*}$
    $\newcommand{\rps}{r_p^*}$
    $\newcommand{\res}{r_e^*}$
    $\newcommand{\Hs}{H^*}$
    $\newcommand{\Hss}{{\Hs}^2}$
    $\newcommand{\Hsf}{{\Hs}^4}$
    $\newcommand{\rss}{{\rs}^2}$
    $\newcommand{\rsc}{{\rs}^3}$
    $\newcommand{\rsf}{{\rs}^4}$
    $\newcommand{\Es}{E^*}$
    $\newcommand{\vt}{v_t}$
    $\newcommand{\vts}{v_t^*}$
    $\newcommand{\vr}{v_r}$
    $\newcommand{\vrs}{v_r^*}$
    $\newcommand{\ve}{v_e}$
    $\newcommand{\half}{\frac{1}{2}}$
    $\newcommand{\der}[1]{\frac{d#1}{dt}}$
    $\newcommand{\ders}[1]{\frac{d#1}{dt^*}}$
    $\newcommand{\dert}[1]{\frac{d#1}{d\theta}}$
    $\newcommand{\B}[1]{\left({#1}\right)}$
  </div>

  <div>
    <h1 class="text-center text-primary">Orbit Calculations </h1>
    <h6 class="text-center text-success">Ravi Saripalli</h6>
  </div>
  <nav class="navbar navbar_default bg-light sticky-top ">
<div class="container-fluid">

  <div class="card" id=item1>
      <div class=card-header ><h5>
          Preamble </h5>
      </div>
      <div class="card-body">
          It is a pity that I am learning these things at such a late stage
          of my life. True that we were introduced to Kepler's laws etc. in our
          early physics lessons but never had any firm grounding of these concepts.
          We gloss over many things without deeper understanding. I found even these
          fundamental stuff that were hacked decades ago are less well understood by
          many (including me). Derivation of orbit is not as trivial as I thought it would
          be.
      </div>
  </div>
<!-- ******************************************************** -->
<div class="card" id=item1>
  <div class=card-header ><h5>
    Force Balance </h5>
  </div>
 <div class="card-body">
    <p class="card-text">
       Consider two bodies with respective masses of $M$ and $m$. Also, assume
       that $M >> m$. Since the gravitaional force influence on the larger
       mass is relatively small we can assume that  mass $M$ is stationary with 
       respect to smaller object with mass $m$. The orbit of smaller mass $m$ 
       under the influence of the gravitaional force is confined to a plane and its
       motion is dictated by the gravitational and centrifugal forces (due to angular
       momemntum). With larger mass at origin, we can write force balance for the
       smaller object in radial direction as follows. It is to be noted that the centrifugal
       and gravitational forces are opposing each other radially.
    </p>

    <div class="border border-info rounded bg-light bg-gradient">
    \[
    \begin{align}
    &\texttip{m \der{\vr}}{Acceleration in radial direction} =
      \texttip{m \frac{\vt^2}{r}}{Centripetal force} - 
      \texttip{\frac{GMm}{r^2}}{Gravitational Force}  \\
      where &   \nonumber \\
    &   \vr   -  \text{Radial Velocity} \nonumber \\
    &    \vt   -  \text{Tangential Velocity} \nonumber 
    \end{align}
    \]
    </div>
  </div>
 </div>
<!-- ******************************************************** -->
<div class="card" id=item2>
  <div class=card-header ><h5>
    Angular Momentum </h5>
  </div>
 <div class="card-body">
    <p class="card-text">
     Another feature of the motion of small object $m$ is that its angular momemntum
     about the center of the larger mass $M$ is conserved. Noting that the moment of inertia
     of a point mass $m$ rotating at radial distance of $r$ is $m r^2$, the angular momemntum
     is of small body is as follows.
    </p>
    <div class="border border-info rounded bg-light bg-gradient">
      \[
      \begin{align}
      \texttip{h}{Anglular Momentum} =
        \texttip{I}{Moment of Inertia} \B{\frac{\vt}{r}} =  m r \vt  \\
      \text{Conservation of above quantiy implies}  \nonumber \\
      \der{} \B{\frac{h}{m}} =  \vr \vt + r \der{\vt} = 0 \\
      \end{align}
      \]
    </div>
  </div>
</div>
<!-- ******************************************************** -->
<div class="card" id=item2>
  <div class=card-header ><h5>
      Energy Balance </h5>
  </div>
  <div class="card-body">
    <p class="card-text">
    Utilising the force balance equaiton (1) and angular momentume expression (2) we can re-write the force balance
    equaiton as follows.
    </p>

    <div class="border border-info rounded bg-light bg-gradient">
      \[
      \begin{align}
      m \der{\vr}  & =
              m \B{\frac{h}{mr}}^2  \frac{1}{r} -
              m \frac{GM}{r^2}   \nonumber \\
      \end{align}
      \]
      Multiplying both sides with $\vr$ and dividing by $m$ and noting that $\vr=\der{r}$
      \[
      \begin{align}
        \frac{1}{2} \der{\vr^2}  & =
              -\frac{1}{2} \B{\frac{h}{m}}^2  \frac{d}{dt} \B{r^{-2}} 
              + GM \frac{d}{dt} \B{r^{-1}}  \nonumber \\
        
        \der{\vr^2}  & =
              - \B{\frac{h}{m}}^2  \frac{d}{dt} \B{r^{-2}} 
              + 2 GM \frac{d}{dt} \B{r^{-1}}  \nonumber \\

      \end{align}
      \]
      Integrating the above equation once w.r.t to $t$ we get the following with integration
      constant $K$.
      \[
      \begin{align}
        \vr^2  & =
              - \B{\frac{h}{m}}^2  \frac{1}{r^2} 
              + 2 GM \frac{1}{r} + K   \nonumber \\
      \end{align}
      \]
      
      Multiplying both sides with $m/2$ and rewriting in terms
      of $\vt$ and rearranging we can recognize this as total 
      energy balance of the system, with first two terms representing
      the kinetic energy of the orbiting mass while the third term is 
      akin to potential energy due to gravitaional force. But it appears that 
      effective potential energy was defined to include the second term while kinetic
      energy is solely attributed to radial velocity component. 
      <em> (This is counter intutive to me ...
         need a good explanation for this. Apparently such a treatment lends itself
         to understanding of the object motion based on its gradient w.r.t radial distance
	 $r$. Have to explore this feature later.) </em>
      
      \[
      \begin{align}
        \half m \vr^2  
                + \half m \vt^2  
                - GMm \frac{1}{r} =  E   \nonumber \\
      \end{align}
      \]
      It is worth noting that $E$ represents total energy of the orbiting object and 
      is conserved quantiy. 
    </div>
  </div>
</div>
<!-- ******************************************************** -->

<div class="card" id=item4>
  <div class=card-header ><h5>
      Dimesnionless Orbit Equations </h5>
  </div>
  <div class="card-body">
    <p>Given total energy and angular momentum of the orbiting object are the two 
      conserved qunantities, these should be sufficeint to descrbe the trajectory of
    the orbit.   </p>
    <p>
       Assuming that the large object radius is $R$, the escape velocity
      $\ve$ of the large body is used to 
      non-dimensionalise velocity components, and radial distance $r$ is
      scaled with $R$. The escape velocity
      of the large object is given as follows.
    </p>
    <div class="border border-info rounded bg-light bg-gradient">
        \[
          \begin{align}
            \ve = \sqrt{\frac{2GM}{R}}
          \end{align}
        \]
        Then the force balance and energy equaitons can be written as follows.
        \[
        \begin{align}
          \color{blue}
          \ders{\vrs}  &= \color{blue}
                    \frac{{\vts}^2}{\rs} -
                  \frac{1}{2\rss}  \\
                \color{black}
                \text{with}\ \ \  r^* &= \frac{r}{R} \ \ ; \ \ t^* = t R / \ve  \ \  ; \       H^* = \rs \vts  \nonumber \\   
                 {\vr}^* &= \frac{\vr}{\ve} \ \ ;\ \  
                 {\vt}^* = \frac{\vt}{\ve} \ \  \nonumber \\
                 \color{blue}
            {\vrs}^2  + {\vts}^2 
                  -  \frac{1}{\rs}   &= \color{blue} E^*   \\
        \end{align}
        \] 
        The two dimensionless parameters ($H^* , E^*$) of the set of equations describing 
        the orbit are
        \[
        \begin{align}
            H^* = \frac{h}{mR\ve}   \nonumber \\
	    E^* = \frac{2E}{m{\ve}^2}   \nonumber 
        \end{align}
        \] 
    </div>
  </div>
</div>

<!-- ******************************************************** -->
<div class="card" id=item2>
  <div class=card-header ><h5>
      Orbit Calculation </h5>
  </div>
  <div class="card-body">
    <p class="card-text">
    Noting that radial velocity $\vrs=\ders{\rs}$ , and expressing tangential
    velocity $\vt$ in terms of angular velocity $\der{\theta}$ the energy
    equation can written as follows.
    equaiton as follows.
    </p>

    <div class="border border-info rounded bg-light bg-gradient">
      \[
      \begin{align}
      \B{\ders{\rs}}^2 + \rss \B{\ders{\theta}}^2
                  -\frac{1}{\rs} =  \Es  \\
      \end{align}
      \]
      Dividng both sides with $\B{\ders{\theta}}^2$  and noting that 
      $\ders{\theta}=\frac{\Hs}{\rss}$
      \[
	\begin{align}
	\B{\dert{\rs}}^2  & =
	\frac{\Es\rsf}{\Hss} - \rss + \frac{\rsc}{\Hss} \\
	\end{align}
      \]
      It is now possible to integrate the above diffenretial equation
      to obtain the dependence of $\rs$ on $\theta$. 
      Introducing a transofrmed
      varible $u =\frac{1}{\rs}$
      the above equation simplifies to
      \[
	\begin{align}
	\B{\dert{u}}^2  & =
	\frac{\Es}{\Hss} - u^2 + \frac{u}{\Hss} \nonumber \\
	&= \frac{4\Es\Hss+1}{4\Hsf} - \B{u-\frac{1}{2\Hss}}^2 
	\end{align}
      \]
     Defining   
     $\alpha = \frac{\sqrt{4\Es\Hss+1}}{2\Hss}$ and
     $\beta = \frac{1}{2{\Hs}^2}$
      \[
	\begin{align}
	d\theta  & = \frac{du}{\sqrt{\alpha^2-(u-\beta)^2}}
	\end{align}
      \]
Integrating the above equation, it is trivial to show that the solution to the above equation is follows
      \[
	\begin{align}
	\theta = sin^{-1}\B{\frac{\frac{1}{\rs}-\beta}{\alpha}} - k \\
	 \text{where  }    k =  sin^{-1}\B{\frac{\frac{1}{\rps}-\beta}{\alpha}} \nonumber \\
          \text{and  defining } \rs = \rps  \text{ at }  \theta = 0  \nonumber 
	\end{align}
      \]
Alternately, we can rewirte $\rs$ in terms of $\theta$ as follows.

  \[
  \begin{align}
	   \rs = \frac{1}{\beta + \alpha sin(\theta + k)}
	\end{align}
  \]

  Defining $\res$ to be $\rs$ at $\theta=\pi$  
  \[
  \begin{align}
	   \res = \frac{1}{\beta - \alpha sin(k)} \\
	   \rps = \frac{1}{\beta + \alpha sin(k)} \\
	\end{align}
  \]
  From the above relations 
  \[
     \frac{1}{\rps} + \frac{1}{\res} = 2\beta  \\
  \]


With no knowledge of conic section geometric interpretation of equation 12,
but with the assumption that under some conditions equation 12, should
correspond to an ellipse, the following working will endevour to explore
that condition.

Rewiting eqn. 12 as
  \[
  \begin{align}
	   \rs = \frac{1}{\beta + \alpha sin(k) cos(\theta)
	   + \alpha cos(k) sin(\theta) }  
	\end{align}
  \]

Converting equation to cartesian co-ordinate system
  \[
  \begin{align}
  \sqrt{x^2+y^2} \beta +  \alpha_s x  + \alpha_c y  
                 = 1 \\
		 \text{where }  \alpha_s = \alpha * sin(k)  \nonumber \\ 
		  \alpha_c = \alpha * cos(k) \nonumber 
	\end{align}
  \]

 For equation 17 to be cast into equation of an ellipse,
 either $\alpha_s$ or $\alpha_c$ has to be zero. Without loss of
 any generality let us choose $\alpha_c$ to be zero. It the follows
 that $\alpha_s = \alpha$ and $k = \pi/2$

 Now equation 17 tranforms to 
  \[
  \begin{align}
      \sqrt{x^2+y^2}  = \frac{1}{\beta} (1 - \alpha x)     \\
	\end{align}
  \]

 Squaring both sides and rearranging we get
  \[
  \begin{align}
      \left( \frac{x + c}{a} \right)^2 +
      \left( \frac{y}{b} \right)^2 = 1 
	\end{align}
  \]

  where
  \[
  \begin{align*}
  a = \frac{\beta}{\beta^2 - \alpha^2}  ; \ \ 
  b = \frac{1}{\sqrt{\beta^2 - \alpha^2}}  ; \ \  
  c = \frac{\alpha}{\beta^2 - \alpha^2}  
	\end{align*}
  \]

It is clear that the above equation represents an ellipse shifted to the left of 
x axis by $c$ units. For the special case where $alpha=0$ it will transform to a circle of 
radius $\beta$ centered at origin. Since $\rs = r/R$ , possible
$\beta$ values that correspond to realisable orbits should be greater than 1 in addition to the 
need for $\beta \gt \alpha$

The following figure illustrates the effect of parameters $\alpha, \beta$ on the 
elliptical path. For large values of $\beta$ or for very small  values of $\alpha$ the orbit
tends to be more circular and the eccentricity tends to zero. This can also be deduced from the
expression for $a, b, c$ in terms of $\alpha$ and $\beta$.

        

 <div class="row mt-5">
     <div class="col-sm-6"> <canvas id="chart1" ></canvas> </div>
     <div class="col-sm-6"> <canvas id="chart2" ></canvas> </div>
 </div>

</div>
</div>
<!-- ******************************************************** -->


<!-- ******************************************************** -->
<div class="card" id=item4>
  <div class=card-header ><h5>
      Earth's Orbit Verification </h5>
  </div>
  <div class="card-body">
    <p class="card-text">
     Using the published data of earths distance from sun,
     its angular momentum in the orbit, sun's escape velocity,
     the earth's orbit parameters were
     calculated and compared against published data. 

     In this calculation the $\Es$ is calculated from equation 6,
     with $\vrs$ set to zero, with $\vts$ is derived from orbital angular
     momentum of earth (2.7e40 kg.m2/s) at a distance of 1.51e6 km.
     Sun's escape velocity is 617.5 km/s. Using this data the orbit parameters
     $\Hs, \Es$ can be calculated as follws.

    </p>
    <div class="border border-info rounded bg-light bg-gradient">
         \[
            \begin{align*}
          \rs = 217.3   \ \ \ \vts = 0.0484   \ \ \ \vrs = 0 \\
	  \Hs = 10.5   \ \ \ \Es = -2.26e-3 \\
	  \text{Using above data we get}  \\
	  \alpha = 7.66\times10^{-5} \ \ \   \beta = 4.52\times^{-3}
            \end{align*}
         \]
	 Using  $\alpha$ and $\beta$ , values of $\rps$ and $\res$  along with
	 eccentricity can be calculated from equations 13 and 14. These values
	 agreed well with the published data. (see following 
	 table)
	 $$
	 \begin{array}{|c|c|c|}
	 \hline
	 \text{} & \text{calculated} & \text{published} \\
	  \hline
	  \res & 224.8  &  218.4 \\
	  \hline
	  \rps & 217.3  &  211.2 \\
	  \hline
	  \text{ecc} & 0.0169 &  0.0167 \\
	  \hline
	  \end{array}
	  $$
    </div>
  </div>
</div>
<!-- ******************************************************** -->


<!-- ******************************************************** -->
<div class="card" id=item2>
  <div class=card-header ><h5>
      Origin Shifting in Polar Coordinates </h5>
  </div>
  <div class="card-body">
    <p class="card-text">
        Using simple vector additions, transformation of a given 
        polar co-ordinate system to an new polar cooridnate system when the origin
        is shifted to an arbitray positon, is described here.
    </p>

    <div class="border border-info rounded bg-light bg-gradient">
 Translation of orgin to new position $(\rho, \alpha)$ in polar co-ordinates 
  \[
  \begin{align*}
     \vec{V_r} &= r ( \vec{i} \cos\theta +  \vec{j} \sin\theta ) \hspace{5mm} \text{... orginal vector}\\
     \vec{V_o} &= \rho ( \vec{i}  \cos\alpha +  \vec{j} \sin\alpha ) \hspace{5mm} \text{... new origin}\\
     \vec{V_s} &= \vec{V_r} - \vec{V_0} \hspace{5mm} \text{... translated vector}\\
               &=  \vec{i} (r \cos\theta - \rho \cos\alpha ) 
                  + \vec{j} (r \sin\theta - \rho \sin\alpha) 
	\end{align*}
  \]
  Therefore, shifed polar coodinate system $(R, \Phi)$ is related to original
  co-ordinate system as follows
  \[
  \begin{align*}
     R \cos(\Phi) &=  r \cos\theta - \rho \cos\alpha  \\
     R \sin(\Phi) &=  r \sin\theta - \rho \sin\alpha   \\
     \text{then} \\
     R &= \sqrt{r^2 + \rho^2 - 2 r \rho \cos(\theta - \alpha)} \\
       \Phi & = \tan^{-1} \B{
       \frac{r\sin\theta - \rho\sin\alpha }  
            {r\cos\theta - \rho\cos\alpha }  
       }
	\end{align*}
  \]
    </div>
  </div>
</div>
<!-- ******************************************************** -->
<script src="https://cdn.jsdelivr.net/npm/chart.js">
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js"> </script>


<script id="MathJax-script" async 
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

<script >
  MathJax = {
    loader: {load: ['[tex]/newcommand']},
    tex: {
      tags: 'all',  // should be 'ams', 'none', or 'all'
      inlineMath: [['$', '$'], ['\\(', '\\)']] , 
      packages: {'[+]': ['newcommand']}
      }
  };
</script>

<script src="traj.js"></script>
<script src="sat.js"></script>
<script>
</script>
</body>
</html>
