<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="mount" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.1.devel">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={482, 58, 1519, 875}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1285, 759]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="2.139261744966443">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-270.00000000000006, 169.06039215686272}">
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="false">
    </property>
    <property name="_layoutConfiguration" class="ptolemy.vergil.basic.layout.ActorLayoutConfiguration">
    </property>
    <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="0.3">
        </property>
        <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.01">
        </property>
        <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="0.01">
        </property>
        <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="100">
        </property>
        <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1e-4">
        </property>
        <property name="ODESolver" class="ptolemy.data.expr.StringParameter" value="ExplicitRK23Solver">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-515.0, 55.0}">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="8">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Author: Ravi Saripalli&#10;8th Aug. 2025">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-370.0, -10.0]">
        </property>
    </property>
    <property name="TableParams" class="ptolemy.actor.parameters.ParameterSet">
        <property name="fileOrURL" class="ptolemy.data.expr.FileParameter" value="tabParams.txt">
        </property>
        <property name="checkForFileUpdates" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_editorFactory" class="ptolemy.actor.gui.FileOrURLEditorFactory">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <rect x="-30" y="-15" width="60" height="30" style="fill:#C0C0C0"></rect>
        <text x="-30" style="font-size:30; font-family:SansSerif; fill:#00BB00" y="10">-PS-</text>
      </svg>
    </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-365.0, 65.0}">
        </property>
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="6">
            <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
        </property>
        <property name="bold" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="italic" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Adding Mount Table and Camera Assemply Inertia)to the motor rotor Inertia. &#10;(Direct Drive setup)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 50.0]">
        </property>
    </property>
    <entity name="BLDC (6207)" class="ptolemy.actor.TypedCompositeActor">
        <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.1.devel">
        </property>
        <property name="Mi" class="ptolemy.data.expr.Parameter" value="0.02*1.356 + (camMi + tabMi)">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 90.0]">
            </property>
        </property>
        <property name="kb" class="ptolemy.data.expr.Parameter" value="3.25">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 115.0]">
            </property>
        </property>
        <property name="kT" class="ptolemy.data.expr.Parameter" value="2.4*1.356">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 140.0]">
            </property>
        </property>
        <property name="R" class="ptolemy.data.expr.Parameter" value="2.35">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-20.0, 165.0}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={48, 25, 1346, 875}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1112, 759]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.3094405594405594">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{394.79038718291054, 332.99999999999983}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Back electromagnetic force constant (volts/(rad/s))">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 105.0]">
            </property>
        </property>
        <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Torque constant (newton-meters/amp)">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 130.0]">
            </property>
        </property>
        <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Winding resistance (ohms)">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 155.0]">
            </property>
        </property>
        <property name="Annotation4" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Moment of inertia (kg - meters^2)">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 80.0]">
            </property>
        </property>
        <property name="L" class="ptolemy.data.expr.Parameter" value="7.0E-3">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-20.0, 190.0}">
            </property>
        </property>
        <property name="Annotation5" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Winding inductance (henrys)">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 180.0]">
            </property>
        </property>
        <property name="DocViewerAttribute" class="ptolemy.kernel.util.SingletonAttribute">
            <property name="DocAttribute" class="ptolemy.vergil.basic.DocAttribute">
                <property name="description" class="ptolemy.kernel.util.StringAttribute" value="To edit the documentation that appears&#10;when the user double clicks on this icon,&#10;right click on the _background_ of the model and select&#10;Documentation-&gt;Customize Documentation.&#10;The description you are currently editing&#10;will not appear when the user double clicks on the Documentation icon.">
                </property>
            </property>
            <property name="viewer" class="ptolemy.vergil.basic.DocViewerFactory">
            </property>
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <rect x="-50" y="-20" width="100" height="20" style="fill:yellow"></rect>
        <text x="-40" y="-5" style="font-size:12; font-family:SansSerif; fill:black">Documentation</text>
      </svg>
    </configure>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{320.0, 70.0}">
            </property>
        </property>
        <property name="DocAttribute" class="ptolemy.vergil.basic.DocAttribute">
            <property name="description" class="ptolemy.kernel.util.StringAttribute" value="Model of a motor.&#10;The inputs are the voltage applied to the motor and the torque (if any) applied by the load.&#10;If the load is a passive mass connected to the motor, then it applies no active torque.&#10;The moment of inertia of the load plus the motor should be specified in the &lt;i&gt;I&lt;/i&gt; parameter.&#10;The outputs are angular velocity (in RPM) and current (in amps) that flows through the motor.&#10;&lt;p&gt;&#10;Icon image: &quot;Electric motor cycle 2&quot;. Licensed under Creative Commons Attribution-Share Alike 3.0 via Wikimedia Commons - &lt;a href=&quot;http://commons.wikimedia.org/wiki/File:Electric_motor_cycle_2.png#mediaviewer/File:Electric_motor_cycle_2.png&quot;&gt;original file&lt;/a&gt;">
            </property>
            <property name="author" class="ptolemy.kernel.util.StringAttribute" value="Patricia Derler and Edward A. Lee">
            </property>
            <property name="version" class="ptolemy.kernel.util.StringAttribute" value="1.0">
            </property>
            <property name="since" class="ptolemy.kernel.util.StringAttribute" value="10.0">
            </property>
            <property name="kb (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The back electromagnetic force constant in volts/RPM.">
            </property>
            <property name="kT (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The torque constant of the motor (an emperical quantity) in newton*meters/amps.">
            </property>
            <property name="R (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The winding resistance of the motor in ohms.">
            </property>
            <property name="L (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The winding inductance in henrys.">
            </property>
            <property name="I (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The moment of inertia in kg*meters^2. The default value is a reasonable value for a small motor with no connected load.">
            </property>
            <property name="voltage (port)" class="ptolemy.kernel.util.StringAttribute" value="The input voltage.">
            </property>
            <property name="loadTorque (port)" class="ptolemy.kernel.util.StringAttribute" value="The torque, if any, imposed by the load. Leave disconnected or provide 0.0 for a passive load.">
            </property>
            <property name="angularVelocity (port)" class="ptolemy.kernel.util.StringAttribute" value="The angular velocity in revolutions per minute (RPM)">
            </property>
            <property name="current (port)" class="ptolemy.kernel.util.StringAttribute" value="The current that flows through the motor.">
            </property>
            <property name="Title (parameter)" class="ptolemy.kernel.util.StringAttribute">
            </property>
        </property>
        <property name="Annotation6" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="24">
            </property>
            <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="BLDC Motor">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-25.0, 45.0]">
            </property>
        </property>
        <property name="Annotation7" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Extended DCMotor Model (Ravi Saripalli)">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 50.0]">
            </property>
        </property>
        <property name="sFric" class="ptolemy.data.expr.Parameter" value="0.6*1.356">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-20.0, 215.0}">
            </property>
        </property>
        <property name="Annotation8" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="bold" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Static Friction Torque (N m)">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 205.0]">
            </property>
        </property>
        <property name="Annotation9" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Viscous Damping Coeff Torque (N.m / (rad/s))">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 230.0]">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-255.0, 140.0}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="PDF" class="ptolemy.vergil.pdfrenderer.PDFAttribute">
                <property name="source" class="ptolemy.data.expr.FileParameter" value="bldc.pdf">
                </property>
                <property name="scale" class="ptolemy.data.expr.Parameter" value="25.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-40.0, -29.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={333, 131, 934, 638}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 522]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
            </property>
        </property>
        <property name="Image3" class="ptolemy.vergil.kernel.attributes.ImageAttribute">
            <property name="scale" class="ptolemy.data.expr.Parameter" value="45.0">
            </property>
            <property name="latex" class="ptolemy.vergil.kernel.attributes.ImageAttribute$1" value="$&#10;\text{Motor speed is determined by the torque $\tau_m$ induced by the motor current,}\\&#10;\text{applied external torque $(\tau_e)$ and moment of inertia ($M_r$) of the rotor.} \\&#10;\tau_m - \tau_e = M_r \frac{d\omega}{dt} \\&#10;&#10;\text{Motor current is related to supply voltage ($V_s$), induced back emf ($V_b$)} \\&#10;\text{and inductuance ($L_s$) of the stator winding} \\&#10;V_s - V_b = L_s \frac{di}{dt} \\&#10;&#10;\text{Further the values of ($V_b$) and ($\tau_m$) can be related empirically to} \\&#10;\text{motor speed ($\omega$) and motor current ($i$)  as follows} \\&#10;\tau_m = k_T  i \\&#10;V_b = k_b \omega \\ $">
                <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                    <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                    </property>
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{480.0, 90.0}">
            </property>
        </property>
        <property name="viscDamp" class="ptolemy.data.expr.Parameter" value="3.32*1.356">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 240.0]">
            </property>
        </property>
        <property name="Annotation10" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="9">
            </property>
            <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.6,0.0,1.0}">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Power Input =  655W (stalled)&#10;Peak Torque = 40 * 1.356  N.m&#10;No Load Speed = 12 rad/s&#10;No. of Poles = 20&#10;Motor Weight = 24 lb&#10;Electrical Time Const = 3ms  (?)&#10;Temp. Rise 0.75C/W&#10;Motor Constant = 1.56 * 1.356  N.m / sqrt(Watt)&#10;&#10;Wining:   VStall = 39.2V,    IPeak = 16.7A">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 215.0]">
            </property>
        </property>
        <port name="voltage" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{315.0, 390.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="loadTorque" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 435.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="angularVelocity" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 555.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="current" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[685.0, 510.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Scale" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="1/Mi">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[100.0, 465.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 460.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Scale2" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="kb/L">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 460.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[520.0, 455.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 460.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Scale3" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="(kT/Mi)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{705.0, 455.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Scale4" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="1/L">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 390.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Scale5" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="R/L">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[705.0, 560.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Integrator2" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[610.0, 455.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sFric + viscDamp *  abs(omega)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 580.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="omega" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[780.0, 335.0]">
            </vertex>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[650.0, 455.0]">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[480.0, 610.0]">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[360.0, 460.0]">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="voltage" relation="relation9"/>
        <link port="loadTorque" relation="relation8"/>
        <link port="angularVelocity" relation="relation12"/>
        <link port="current" relation="relation11"/>
        <link port="Scale.input" relation="relation8"/>
        <link port="Scale.output" relation="relation2"/>
        <link port="AddSubtract.plus" relation="relation6"/>
        <link port="AddSubtract.minus" relation="relation2"/>
        <link port="AddSubtract.minus" relation="relation10"/>
        <link port="AddSubtract.output" relation="relation3"/>
        <link port="Scale2.input" relation="relation12"/>
        <link port="Scale2.output" relation="relation4"/>
        <link port="AddSubtract2.plus" relation="relation7"/>
        <link port="AddSubtract2.minus" relation="relation4"/>
        <link port="AddSubtract2.minus" relation="relation5"/>
        <link port="AddSubtract2.output" relation="relation"/>
        <link port="Integrator.derivative" relation="relation3"/>
        <link port="Integrator.state" relation="relation12"/>
        <link port="Scale3.input" relation="relation11"/>
        <link port="Scale3.output" relation="relation6"/>
        <link port="Scale4.input" relation="relation9"/>
        <link port="Scale4.output" relation="relation7"/>
        <link port="Scale5.input" relation="relation11"/>
        <link port="Scale5.output" relation="relation5"/>
        <link port="Integrator2.derivative" relation="relation"/>
        <link port="Integrator2.state" relation="relation11"/>
        <link port="Expression.output" relation="relation10"/>
        <link port="Expression.omega" relation="relation12"/>
    </entity>
    <entity name="Const2" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-385.0, 165.0}">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
        </port>
    </entity>
    <entity name="Scale" class="ptolemy.actor.lib.Scale">
        <display name="torpm"/>
        <property name="factor" class="ptolemy.data.expr.Parameter" value="9.549">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-90.0, 110.0]">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </entity>
    <entity name="RPM" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={186, 437, 365, 286}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[365, 236]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 70.0]">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>RPM</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="0.3"/>
<yRange min="0.0" max="133.20031990059312"/>
</plot>?>
        </configure>
    </entity>
    <entity name="AMPS" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={194, 160, 360, 268}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[360, 218]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, 170.0]">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Amps</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="0.3"/>
<yRange min="-14.03042580048208" max="17.212855826049324"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Limiter" class="ptolemy.actor.lib.Limiter">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-445.0, 255.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="PWM" class="ptolemy.domains.continuous.lib.PWM">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-485.0, 130.0}">
        </property>
        <property name="outputLevel" class="ptolemy.data.expr.Parameter" value="50">
        </property>
        <property name="frequency" class="ptolemy.data.expr.Parameter" value="10000">
        </property>
        <property name="dutyCycle" class="ptolemy.actor.parameters.PortParameter" value="0">
        </property>
        <port name="dutyCycle" class="ptolemy.actor.parameters.ParameterPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="SetSpeed" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="120">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-235.0, 215.0}">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
        </port>
    </entity>
    <entity name="showPWM" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={583, 176, 383, 276}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[383, 226]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-485.0, 320.0]">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>PWM Signal</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="0.3"/>
<yRange min="0.0" max="1.0"/>
</plot>?>
        </configure>
    </entity>
    <entity name="PID" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-315.0, 255.0}">
        </property>
        <property name="Kc" class="ptolemy.data.expr.Parameter" value="5">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 20.0}">
            </property>
        </property>
        <property name="Ki" class="ptolemy.data.expr.Parameter" value="2000">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 50.0]">
            </property>
        </property>
        <property name="Kd" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 80.0}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={126, 138, 1091, 639}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[857, 523]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{418.5, 251.5}">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <port name="sp" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 145.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="mv" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 210.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="op" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{664.0, 250.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 240.0]">
            </property>
        </entity>
        <entity name="Scale" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="Kc">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 170.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="error" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 170.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="error2" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 200.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Scale2" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="Ki">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{390.0, 240.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="Scale3" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="Kd">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 340.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="ContinuousTransferFunction" class="ptolemy.domains.continuous.lib.ContinuousTransferFunction">
            <property name="denominator" class="ptolemy.data.expr.Parameter" value="{1.0, 0.01}">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 340.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                </property>
            </port>
            <entity name="InputAdder" class="ptolemy.actor.lib.AddSubtract">
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
            </entity>
            <entity name="OutputAdder" class="ptolemy.actor.lib.AddSubtract">
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
            </entity>
            <entity name="Integrator0" class="ptolemy.domains.continuous.lib.Integrator">
                <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="0.0">
                </property>
                <port name="impulse" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                    </property>
                </port>
                <port name="derivative" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="state" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="initialState" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                    </property>
                </port>
            </entity>
            <entity name="Feedback0" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="-0.01">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
            </entity>
            <entity name="Feedforward0" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="scaleOnLeft" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
            </entity>
            <relation name="node0" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="_R" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="_R2" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="_R3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="inputRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="outputRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="input" relation="inputRelation"/>
            <link port="output" relation="outputRelation"/>
            <link port="InputAdder.plus" relation="_R"/>
            <link port="InputAdder.plus" relation="inputRelation"/>
            <link port="InputAdder.output" relation="_R3"/>
            <link port="OutputAdder.plus" relation="_R2"/>
            <link port="OutputAdder.output" relation="outputRelation"/>
            <link port="Integrator0.derivative" relation="_R3"/>
            <link port="Integrator0.state" relation="node0"/>
            <link port="Feedback0.input" relation="node0"/>
            <link port="Feedback0.output" relation="_R"/>
            <link port="Feedforward0.input" relation="node0"/>
            <link port="Feedforward0.output" relation="_R2"/>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[185.0, 170.0]">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="sp" relation="relation"/>
        <link port="mv" relation="relation2"/>
        <link port="op" relation="relation6"/>
        <link port="Integrator.derivative" relation="relation3"/>
        <link port="Integrator.state" relation="relation4"/>
        <link port="Scale.input" relation="relation3"/>
        <link port="Scale.output" relation="relation8"/>
        <link port="error.plus" relation="relation"/>
        <link port="error.minus" relation="relation2"/>
        <link port="error.output" relation="relation3"/>
        <link port="error2.plus" relation="relation8"/>
        <link port="error2.plus" relation="relation7"/>
        <link port="error2.plus" relation="relation9"/>
        <link port="error2.output" relation="relation6"/>
        <link port="Scale2.input" relation="relation4"/>
        <link port="Scale2.output" relation="relation7"/>
        <link port="Scale3.input" relation="relation5"/>
        <link port="Scale3.output" relation="relation9"/>
        <link port="ContinuousTransferFunction.input" relation="relation3"/>
        <link port="ContinuousTransferFunction.output" relation="relation5"/>
    </entity>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[-535.0, 160.0]">
        </vertex>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[-40.0, 265.0]">
        </vertex>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{-185.0, 165.0}">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[-395.0, 130.0]">
        </vertex>
    </relation>
    <link port="BLDC (6207).voltage" relation="relation"/>
    <link port="BLDC (6207).loadTorque" relation="relation2"/>
    <link port="BLDC (6207).angularVelocity" relation="relation3"/>
    <link port="BLDC (6207).current" relation="relation9"/>
    <link port="Const2.output" relation="relation2"/>
    <link port="Scale.input" relation="relation3"/>
    <link port="Scale.output" relation="relation8"/>
    <link port="RPM.input" relation="relation8"/>
    <link port="AMPS.input" relation="relation9"/>
    <link port="Limiter.input" relation="relation7"/>
    <link port="Limiter.output" relation="relation6"/>
    <link port="PWM.dutyCycle" relation="relation6"/>
    <link port="PWM.output" relation="relation"/>
    <link port="SetSpeed.output" relation="relation4"/>
    <link port="showPWM.input" relation="relation6"/>
    <link port="PID.sp" relation="relation4"/>
    <link port="PID.mv" relation="relation8"/>
    <link port="PID.op" relation="relation7"/>
</entity>
